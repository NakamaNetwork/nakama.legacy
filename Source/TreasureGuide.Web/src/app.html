<template>
    <md-colors with.bind="theme"
               md-primary-color.bind="primaryColor"
               md-accent-color.bind="accentColor"
               md-error-color="errorColor">
    </md-colors>
    <header>
        <md-navbar>
            <div class="container">
                <a route-href="route: home" class="brand-logo">
                    ${router.title}
                </a>
                <ul id="nav-mobile" class="right hide-on-med-and-down">
                    <li repeat.for="nav of authorizedRoutes" class="${nav.isActive ? 'active' : ''}">
                        <a href.bind="nav.href">
                            ${nav.title}
                        </a>
                    </li>
                    <li if.bind="!accountService.isLoggedIn">
                        <a href="/Account/Login">
                            Login
                        </a>
                    </li>
                    <li if.bind="accountService.isLoggedIn">
                        <a route-href="route: account">
                            ${accountService.userProfile.userName}
                        </a>
                    </li>
                    <li if.bind="accountService.isLoggedIn">
                        <a click.trigger="accountService.logout()">
                            Logout
                        </a>
                    </li>
                </ul>
            </div>
            <a href="#" md-sidenav-collapse="ref.bind: sideNav;" class="button-collapse">
                <i class="material-icons">menu</i>
            </a>
            <md-sidenav view-model.ref="sideNav">
                <ul>
                    <li repeat.for="nav of authorizedRoutes" class="${nav.isActive ? 'active' : ''}">
                        <a href.bind="nav.href">
                            ${nav.title}
                        </a>
                    </li>
                    <li if.bind="!accountService.isLoggedIn">
                        <a href="/Account/Login">
                            Login
                        </a>
                    </li>
                    <li if.bind="accountService.isLoggedIn">
                        <a route-href="route: account">
                            ${accountService.userProfile.userName}
                        </a>
                    </li>
                    <li if.bind="accountService.isLoggedIn">
                        <a click.trigger="accountService.logout()">
                            Logout
                        </a>
                    </li>
                </ul>
            </md-sidenav>
        </md-navbar>
    </header>
    <main>
        <div class="container">
            <router-view></router-view>
        </div>
    </main>
    <footer md-footer>
        <div class="footer-copyright">
            <div class="container">
                &copy; 2017 RoboCafaz
                <a class="grey-text text-lighten-4 right" href="https://github.com/RoboCafaz/TreasureGuide">
                    View on GitHub
                </a>
            </div>
        </div>
    </footer>
</template>