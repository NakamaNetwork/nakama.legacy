<template>
    <ux-dialog>
        <ux-dialog-header>
            <div class="_floatRight">
                <a click.delegate="cancel()" class="button _flat modal-action">X</a>
            </div>
            <h3>Select a Unit</h3>
        </ux-dialog-header>
        <ux-dialog-body>
            <div class="row">
                <form with.bind="searchModel">
                    <fieldset>
                        <legend>
                            Search
                        </legend>
                        <div class="col m6">
                            <div class="row">
                                <label for="termInput">
                                    Unit Name
                                </label>
                                <input id="termInput"
                                       type="text"
                                       placeholder="Unit name..."
                                       value.two-way="term" />
                            </div>
                            <div class="row">
                                <div class="col m4">
                                    <label for="globalInput">
                                        <input type="checkbox" checked.two-way="global" />
                                        <span class="-label-body">Global</span>
                                    </label>
                                </div>
                                <div class="col m4">
                                    <label for="freeToPlayInput">
                                        <input type="checkbox" checked.two-way="freeToPlay" />
                                        <span class="-label-body">F2P</span>
                                    </label>
                                </div>
                                <div class="col m4">
                                    <label for="myBoxInput">
                                        <input id="myBoxInput"
                                               type="checkbox"
                                               checked.two-way="myBox" />
                                        <span class="-label-body">My Box</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="col m3">
                            <label for="classInput">
                                Unit Class
                            </label>
                            <input id="classInput"
                                   type="number"
                                   placeholder="Class..."
                                   md-value.two-way="classes" />
                        </div>
                        <div class="col m3">
                            <label for="typeInput">
                                Unit Type
                            </label>
                            <input id="typeInput"
                                   placeholder="Type..."
                                   type="number"
                                   value.two-way="types" />
                            <label for="forceTypeInput">
                                <input id="forceTypeInput"
                                       type="checkbox"
                                       checked.two-way="forceTypes" />
                                <span class="-label-body">Exclude Others</span>
                            </label>
                        </div>
                    </fieldset>
                </form>
            </div>
            <div class="row">
                <search-pager search-model.bind="searchModel" result-count.bind="resultCount"></search-pager>
            </div>
            <div class="row center">
                <div class="unit-collection">
                    <button class="unit-button" click.delegate="clicked(null)">
                        <i class="fa fa-fw fa-2x fa-user-times"></i>
                    </button>
                    <button repeat.for="unit of units" class="unit-button" click.delegate="clicked(unit.id)">
                        <img src.bind="getIcon(unit.id)">
                    </button>
                </div>
            </div>
        </ux-dialog-body>
        <ux-dialog-footer>
            <a click.delegate="cancel()" class="button _flat modal-action">Cancel</a>
        </ux-dialog-footer>
    </ux-dialog>
</template>
