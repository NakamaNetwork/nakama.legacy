$gcr-cell-width: 50px;
$gcr-cell-height: 24px;

@function makeGCRColor($color, $light) {
    @if $light > 0 {
        @return desaturate(lighten($color, 50%), 20%);
    }
    @else {
        @return desaturate(lighten($color, 30%), 20%);
    }
}

.gcr {
    font-size: smaller;

    a {
        text-decoration: none !important;
    }

    .header {
        height: 5vh;
    }

    .body {
        height: 95vh;
    }

    td, th {
        text-align: center;
        vertical-align: middle;
        padding: 0;
        margin: 0;
        border: 1px solid rgba(0,0,0,0.2);
        border-top: none;
        border-left: none;
    }

    .stage-header {
        height: $gcr-cell-height + 1 !important;
        text-align: start;
        padding-top: 2px;

        a {
            @extend .truncate;
            @extend .no-wrap;
            width: 150px;
            display: inline-block;
        }

        .unit-button {
            display: inline-block;
        }
    }

    .unit-header {
        width: $gcr-cell-width !important;
        height: $gcr-cell-height !important;
        background-color: $background-color;

        a {
            width: ($small-unit-size + $small-unit-margin) !important;
            height: ($small-unit-size + $small-unit-margin) !important;
            display: inline-block;
        }
    }

    .team-cell {
        width: $gcr-cell-width !important;
        height: $gcr-cell-height !important;
    }
    /// colors
    .complete {
        background-color: makeGCRColor($success-color, 0);
    }

    .incomplete {
        background-color: makeGCRColor($warning-color, 0);
    }

    .empty {
        background-color: makeGCRColor($danger-color, 0);
    }

    .stage-header {
        background-color: makeGCRColor($light-color, 0);
    }

    tr:nth-child(odd) {
        .complete {
            background-color: makeGCRColor($success-color, 1);
        }

        .incomplete {
            background-color: makeGCRColor($warning-color, 1);
        }

        .empty {
            background-color: makeGCRColor($danger-color, 1);
        }

        .stage-header {
            background-color: makeGCRColor($light-color, 1);
        }
    }
}
